Приложение представляет собой систему для управления событиями и ставками на них. Оно состоит из двух независимых сервисов:


**line-provider** — сервис для управления событиями.

**bet-maker** — сервис для управления ставками.

Оба сервиса взаимодействуют друг с другом через HTTP-запросы.

**Сервис line-provider**

API сервиса отвечает за управление событиями и поддерживает следующие операции:

**GET /events**
Возвращает список всех событий.

**GET /events/{event_id}**
Возвращает подробную информацию об указанном событии.

**POST /events**
Создает новое событие.

Пример тела запроса:


    {
      "event_id": "1",
      "coefficient": 1.5,
      "deadline": "2024-12-10T12:00:00Z",
      "state": "new"
    }

**PATCH /events/{event_id}/status**

Обновляет статус события.

Пример запроса:

    PATCH /events/1/status?state=finished_win


**Сервис bet-maker**
API сервиса отвечает за управление ставками и поддерживает следующие операции:

GET /bets
Возвращает список всех ставок.

GET /bets/{bet_id}
Возвращает информацию о конкретной ставке.

POST /bets
Создает новую ставку.

Пример тела запроса:

    {
      "event_id": "1",
      "amount": 100.5
    }


POST /bets/update

Обновляет статус ставок на основе статуса события.

Пример тела запроса:

    {
      "event_id": "1",
      "status": "finished_win"
    }


**Процесс взаимодействия**

Получение списка событий (bet-maker → line-provider)

bet-maker отправляет запросы к line-provider через API /events и /events/{event_id}, чтобы узнать о доступных событиях.

Создание ставки (bet-maker)

Пользователь отправляет запрос на создание ставки (POST /bets). bet-maker проверяет, существует ли событие, запрашивая его у line-provider.

Обновление статусов событий (line-provider → bet-maker)

Когда администратор изменяет статус события через PATCH /events/{event_id}/status,
line-provider отправляет запрос на эндпоинт POST /bets/update сервиса bet-maker, чтобы обновить статусы связанных ставок.


**Инструкция по запуску**

Клонируйте репозиторий:

    git clone 



Соберите проект:

    docker-compose build

Запустите приложение:

    docker-compose up 

Если вы хотите запустить приложение без тестов, укажите флаг при запуске:

    docker-compose up --scale tests=0


После запуска:

line-provider доступен по адресу: http://localhost:8001

bet-maker доступен по адресу: http://localhost:8000